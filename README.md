# io-scene-kicad
## KiCadのためのVRML2エクスポートアドイン

これは、BlenderからKiCad用で使用できるVRML2ファイル(.wrl)へのエクスポータです。<br>
メッシュ オブジェクトを KiCad 用の WRL ファイルにエクスポートします。<br>
スクリプトのインターフェイス言語は日本語です。<br>
動作は、Blender 3.6、及び、4.0.x で確認しています。<br>
<br>
<br>

### リリースパッケージについて
---

Blenderにインストールできるパッケージ（.zip ファイル）は、 [Releases](https://github.com/maznobu/io-scene-kicad/releases) にあります。<br>
使用できるのはアセットにある .zip ファイルのみです。Source code (.zip | .tar.gz) は使えません（仕組みが良くわからない...）。
<br>
<br>

### インストール
---

1. Bleanderの[プリファレンス]から[アドオン]を開きます。
2. 右上の[インストール]をクリックして、頒布された io_scene_kicad.zip を選択します。
3. [プリファレンス]のアドオンリストの中に、[WRL(KiCad) エクスポート] が展開されると思いますので、
  チェックを入れてアドオンを有効にしてください。
<br>
<br>

### 基本的な操作
---

1. Blenderで実寸大のモデルを作成します。3mmの部品なら3mmで。
2. 1ファイル1部品なら、ワールド原点を中心にして作成してください。フットプリントの原点と一致させるようにすると後が楽です。
3. 1ファイルに複数部品を作るなら、最上位オブジェクトを異なる座標に配置します。複数のメッシュから成る場合は、子オブジェクトとして追加します。
4. 前説明の[WRL(KiCad)エクスポート]パネルから、[エクスポート]ボタンを押下します。
5. 1ファイル1部品なら、 [ワールド座標を中心にする] のオプションにチェックを入れます。<br>
    1ファイルに複数部品を作るなら、[ワールド座標を中心にする] のチェックは外してください。
6. [WRL(KiCad)エクスポート]ボタンを押下して.wrlファイルを出力します。
7. 次は、KiCad側の操作です。KiCadのフットプリントエディタを開き、目的の任意のフットプリントを編集モードで開きます。
8. フットプリントのプロパティ編集でプロパティ編集画面を開きます。そこに[3Dモデル]というタブがあります。
9. [3Dモデル]タブをクリックし、[+]マークのボタンからパスを追加します。詳細な使い方は、KiCadのヘルプをご参照ください。
10. 本アドインで生成した.wrlファイルを選択します。おそらく作成した3Dモデルが3Dビューに表示されるでしょう。位置がずれていたら調整してください。
11. [OK]を押して編集画面を閉じ、フットプリントを保存してください。これで完了です。

<br>
<br>

### 詳細な使い方など
---

1. 本アドインをインストール後、UIツール (右側面のツールリスト) に [KiCad] タブが表示されます。
2. [KiCad]タブをクリックすると、[WRL(KiCad)エクスポート]パネルが現れ、そこに[ヘルプ]ボタンがあります。<br>
   詳細な使い方は、このヘルプから参照してください。

<br>
<br>
<br>
<br>

## 開発環境 (2024/3/1 現在) 

* Blender 4.0.2 (Intel 64bit)
* Visual Studio Code 1.86.2 (as of 3/1/2024)
  * Blender Development [Experimental Fork]
  * Japanese Language Pack for Visual Studio Code
* Workstation (Dell Precision T7600 or T7920)
<br>
<br>

     
